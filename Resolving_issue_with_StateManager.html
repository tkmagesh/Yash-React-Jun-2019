<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>State Manager - demo</title>
	<script src="stateManager.js"></script>
    <script src="react.development.js"></script>
	<script src="react-dom.development.js"></script>
	<script src="babel.min.js"></script>
	<script type="text/babel">
        
    class Spinner extends React.Component{
        render(){
            let { model } = this.props
            return(
                <div>
                   <input type="button" value="Decrement" onClick={()=>model.dispatch('DOWN')}/>
	               <span>[{model.getState()}]</span>
	               <input type="button" value="Increment" onClick={()=>model.dispatch('UP')}/>  
                </div> 
            )
        }   
    }
    
   function myReduce(currentState=0, action){
        if(action==='UP') return ++currentState;
        if(action==='DOWN') return --currentState;
        return currentState;
   }
    
    var model = SM.createStore(myReduce);
    function renderSpinner(){
        ReactDOM.render(<Spinner model={model}/>, document.getElementById('root'));
    }
    renderSpinner();
    model.subscribe(renderSpinner);

    </script>
</head>
<body>
	<h1>Spinner</h1>
	 <hr>
    <div id="root"></div>
</body>
</html>